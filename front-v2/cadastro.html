<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Cadastro | Prêmio STAC de Sustentabilidade</title>
    <link rel="stylesheet" href="css/mystyles.css">
    <link href="img/logo.png" rel="icon">
    <script defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>
</head>
<body onload="location.href = '/'">
    <nav class="navbar scrolled is-dark-green" role="navigation" aria-label="main navigation">
        <div class="container">
            <div class="navbar-brand">
                <a class="navbar-item" href="index.html">
                    <img src="img/logo.png" height="5rem" >
                </a>
            
                <a role="button" class="navbar-burger burger" aria-label="menu" aria-expanded="false" data-target="navbarBasicExample">
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
                </a>
            </div>
            
            <div class="navbar-menu">
                <div class="navbar-end">
                    <a class="navbar-item" href="/">
                        Início
                    </a>
                    <a class="navbar-item" onclick="toggleModal('#infos')">
                        Informações
                    </a>
                    <a class="navbar-item" onclick="goTo('.footer')">
                        Contato
                    </a>
                </div>
            </div>
        </div>
    </nav>
   <section class="hero is-fullheight-with-navbar">
        <div class="hero-body">
            <div class="container">
                <h1 class="title is-4 is-size-5-mobile has-text-centered is-uppercase">Ficha de inscrição para o processo seletivo de avaliadores para a 3<sup class="is-lowercase">a</sup> edição do prêmio stac de Sustentabilidade</h1>
                <br>
                <h2 class="subtitle is-6" id="obrigatorios">Campos marcados com <span class="has-text-danger">*</span> são obrigatórios</h2>
                <br>
                <form action="http://stac-prd.us-east-1.elasticbeanstalk.com/login/cadastro" method="POST" onsubmit="cadastro(event)" enctype="multipart/form-data">
                    <div class="field is-horizontal">
                        <div class="field-label">
                            <label for="nome" class="label">Nome completo <span class="has-text-danger">*</span></label>
                        </div>
                        <div class="field-body">
                            <div class="field">
                                <p class="control is-expanded">
                                    <input type="text" id="nome" name="nomeCompleto" class="input" placeholder="Digite seu nome" required>
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="field is-horizontal">
                        <div class="field-label">
                            <label class="label">Telefone e Email <span class="has-text-danger">*</span></label>
                        </div>
                        <div class="field-body">
                            <div class="field has-addons">
                                <div class="control">
                                    <button class="button is-static">
                                        +55
                                    </button>
                                </div>
                                <div class="control is-expanded">
                                    <input type="tel" id="telefone" name="celular" class="input" placeholder="e.g. 11992941821" pattern="^\d{11}$" required>
                                </div>
                            </div>
                            <div class="field">
                                <div class="control is-expanded has-icons-left">
                                    <input type="email" id="email" name="email" class="input" placeholder="e.g. joao@stac.com" required>
                                    <span class="icon is-small is-left">
                                        <i class="fas fa-envelope"></i>
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="field is-horizontal">
                        <div class="field-label">
                            <label for="data-nasc" class="label">Data de nascimento <span class="has-text-danger">*</span></label>
                        </div>
                        <div class="field-body">
                            <div class="field">
                                <div class="control">
                                    <input type="date" id="data-nasc" name="dataDeNascimento" class="input" min="1919-12-31" max="2009-01-01" required>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="field is-horizontal">
                        <div class="field-label">
                            <label for="rg" class="label">RG <span class="has-text-danger">*</span></label>
                        </div>
                        <div class="field-body">
                            <div class="field">
                                <div class="control">
                                    <input type="text" id="rg" name="rg" class="input" placeholder="e.g. 123456789" pattern="^\d{8}[A-Za-z0-9]$" required>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="field is-horizontal">
                        <div class="field-label">
                            <label for="cep" class="label">CEP <span class="has-text-danger">*</span></label>
                        </div>
                        <div class="field-body">
                            <div class="field">
                                <div class="control">
                                    <input type="text" id="cep" name="cep" class="input" placeholder="e.g. 12345678" pattern="^\d{8}$" required>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="field is-horizontal">
                        <div class="field-label">
                            <label for="nome-social" class="label">Nome social</label>
                        </div>
                        <div class="field-body">
                            <div class="field">
                                <div class="control">
                                    <label class="radio">
                                        <input type="radio" name="resposta" value="sim">
                                        Sim
                                    </label>
                                    <label class="radio">
                                        <input type="radio" name="resposta" value="nao" checked>
                                        Não
                                    </label>
                                </div>
                                <div class="control" style="display: none;">
                                    <input type="text" id="nome-social" class="input" name="nomeSocial" placeholder="Digite seu nome social">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="field is-horizontal">
                        <div class="field-label">
                            <label for="senha" class="label">Senha <span class="has-text-danger">*</span></label>
                        </div>
                        <div class="field-body">
                            <div class="field">
                                <div class="control">
                                    <input type="password" class="input" name="senha" id="senha" placeholder="De 8 a 50 caracteres" pattern=".{8,50}" required>
                                </div>
                            </div>
                            <div class="field">
                                <div class="control is-expanded">
                                    <input type="password" class="input" id="confirma" placeholder="Confirme sua senha" pattern=".{8,50}" oninput="confirmPassword(event)">
                                </div>
                                <p class="help is-danger"></p>
                            </div>
                        </div>
                    </div>
                    <div class="field is-horizontal">
                        <div class="field-label">
                            <label class="label">
                                Documento de conclusão <span class="has-text-danger">*</span>
                                <span class="icon is-small" id="doc-tooltip">
                                    <i class="fas fa-question-circle"></i>
                                </span>
                                <div id="popup" class="notification is-info popper">
                                    <p class="heading is-6">
                                       Imagem do documento que comprova sua conclusão do Ensino Médio
                                    </p>
                                </div>
                            </label>
                        </div>
                        <div class="field-body">
                            <div class="field">
                                <div class="file has-name is-boxed">
                                    <label class="file-label">
                                        <input class="file-input" type="file" onchange="showFileName(event)" name="image" accept="image/*" required>
                                        <span class="file-cta">
                                            <span class="file-icon">
                                                <i class="fas fa-upload"></i>
                                            </span>
                                            <span class="file-label">
                                                Escolha um arquivo
                                            </span>
                                        </span>
                                        <span class="file-name">Nenhum arquivo selecionado</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <br>
                    <div class="field has-text-centered">
                        <label class="checkbox has-text-weight-semibold">
                            <input type="checkbox"
                                   onchange="this.checked ? $('#enviar').attr({disabled: false, title: 'Enviar'}) : $('#enviar').attr({disabled: true, title: 'Aceite a condição acima para prosseguir'})">
                            Atesto para os devidos fins que todas as informações fornecidas acima são verdadeiras
                        </label>
                    </div>
                    <br>
                    <div class="field">
                        <div class="control has-text-centered">
                            <button type="submit" class="button is-link is-uppercase" id="enviar" title="Aceite a condição acima para prosseguir" disabled>Efetuar Inscrição</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </section>

    <!-- Modal Informações -->
    <div class="modal" id="infos">
        <div class="modal-background"></div>
        <div class="modal-card">
            <header class="modal-card-head">
                <p class="modal-card-title">3<sup>a</sup> Edição do Prêmio STAC <br class="is-hidden-tablet">de Sustentabilidade</p>
                <button class="delete" aria-label="close" onclick="toggleModal('#infos')"></button>
            </header>
            <section class="modal-card-body">
                <div class="columns">
                    <div class="column">
                        <h2 class="subtitle is-uppercase has-text-centered">
                            processo seletivo de avaliadores
                        </h2>
                        <div class="box">
                            <h2 class="subtitle is-6 has-text-centered is-uppercase">
                                <a class="has-text-link" href="/#calendario" target="_blank">
                                    Consulte o calendário oficial
                                </a>
                            </h2>
                            <br>
                            <br>
                            <h2 class="subtitle is-6 has-text-centered is-uppercase">
                                <a class="has-text-link" href="./docs/edital-avaliadores.pdf" target="_blank">Consulte o edital oficial</a>
                            </h2>
                        </div>
                    </div>
                    <div class="is-divider-vertical"></div>
                    <div class="column">
                        <h2 class="subtitle is-uppercase has-text-centered">Processo seletivo de projetos participantes</h2>
                        <div class="box">
                            <h2 class="subtitle is-6 is-uppercase has-text-centered">
                                <a class="has-text-link" href="/#calendario" target="_blank">
                                    Consulte o calendário oficial
                                </a>
                            </h2>
                            <h2 class="subtitle is-6 is-uppercase has-text-centered">
                                <a class="has-text-link" href="./docs/edital-projetos.pdf" target="_blank">Consulte o edital oficial</a>
                            </h2>
                            <h2 class="subtitle is-6 has-text-centered is-uppercase">
                                <p class="has-text-weight-bold">inscrições em breve</p>
                            </h2>
                        </div>
                    </div>
                </div>
            </section>
            <footer class="modal-card-foot">
                <button class="button is-success" style="margin-right: auto; margin-left: auto;" onclick="toggleModal('#infos')">Entendi</button>
            </footer>
        </div>
        <button class="modal-close is-large" aria-label="close" onclick="toggleModal('#infos')"></button>
    </div>

    <!-- Modal de mensagem -->
    <div class="modal" id="message">
        <div class="modal-background"></div>
        <div class="modal-content">
            <article class="message">
                <div class="message-header">
                  <p>Mensagem</p>
                  <button class="delete" aria-label="delete"></button>
                </div>
                <div class="message-body">
                  Esta é uma mensagem
                </div>
            </article>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer has-background-darkgreen">
        <div class="container">
            <nav class="level">
                <div class="level-left">
                    <div class="level-item">
                        <article class="media">
                            <figure class="media-left">
                                <p class="image is-48x48">
                                    <img src="img/logo.png" alt="Logo STAC">
                                </p>
                            </figure>
                            <div class="media-content">
                                <div class="content">
                                    <p class="subtitle is-4 has-text-white" style="line-height: 2.5em;">
                                        Organização STAC
                                    </p>
                                </div>
                            </div>
                        </article>
                    </div>
                </div>
                <div class="level-right">
                    <div class="level-item">
                        <table class="table has-background-darkgreen has-text-white">
                            <thead>
                                <tr>
                                    <th class="has-text-white" colspan="3">Contate-nos</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <th class="has-text-white">
                                        E-mails
                                    </th>
                                    <th class="has-text-white" colspan="2">
                                        Redes sociais
                                    </th>
                                </tr>
                                <tr>
                                    <td>
                                        <a class="has-text-white" title="Enviar e-mail" href="mailto:secretariageral@stac-ibr.com">secretariageral@stac-ibr.com</a>
                                    </td>
                                    <td>
                                        <a class="icon" href="https://www.facebook.com/premio.stac" target="_blank">
                                            <i class="fab fa-lg fa-facebook-f"></i>
                                        </a>
                                    </td>
                                    <td>
                                        <a class="icon" href="https://www.instagram.com/premio.stac" target="_blank">
                                            <i class="fab fa-lg fa-instagram"></i>
                                        </a>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <a class="has-text-white" title="Enviar e-mail" href="mailto:contato@stac-ibr.com">contato@stac-ibr.com</a>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <a class="has-text-white" title="Enviar e-mail" href="mailto:diretoria@stac-ibr.com">diretoria@stac-ibr.com</a>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </nav>
            <br><br>
            <p class="heading has-text-centered has-text-white">Desenvolvido por <a class="has-text-white" href="https://www.linkedin.com/in/pedro-madeira-102765165/" target="_blank">Pedro Madeira</a> && <a class="has-text-white" href="https://www.linkedin.com/in/vinicius-xavier-937b61138/" target="_blank">Vinicius Xavier</a></p>
        </div>
    </footer>
    <script
        src="https://code.jquery.com/jquery-3.4.1.min.js"
        integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
        crossorigin="anonymous"></script>
    <script src="https://unpkg.com/popper.js"></script>
    <script src="js/main.js"></script>
    <script src="js/user.js"></script>
    <script>
        $(document).ready(function(){
            $('#senha').on('focusout', e => {
                $("#confirma").attr('pattern', $(e.target).val());
            });
            
            $('input').on('focusout', e => {
                if (matches(e.target, ':valid') || 
                    ($(e.target).attr('pattern') ? new RegExp($(e.target).attr('pattern')).test($(e.target).val()) : false)) {
                    $(e.target).removeClass('is-danger');
                } else if (matches(e.target, ':invalid') || 
                           !($(e.target).attr('pattern') ? new RegExp($(e.target).attr('pattern')).test($(e.target).val()) : false)) {
                    $(e.target).addClass('is-danger').removeClass('is-success');
                }
            });

            
            $("#doc-tooltip").hover(() => {
                $('#popup').toggle();
                new Popper($('#doc-tooltip'), $('#popup'), {
                    placement: 'top'
                })
            });
        });

        // Verifica se a senha confirmada é igual à digitada
        function confirmPassword(e) {
            let confPass = e.target.value;
            let pass = $('#senha').val();
            if (confPass !== pass)
                $(e.target).parent().parent().find('.help').text('As senhas precisam ser iguais');
            else $(e.target).parent().parent().find('.help').text('');
        }

        function matches( node, selector ) { 
            // Most modern browsers support the ".matches" method. However, IE9+ uses a
            // non-standard method name. As such, we can fall-back to the IE version when
            // the standard one doesn't exist and that should cover all the modern
            // browsers that are in use.
            // --
            // READ MORE: https://developer.mozilla.org/en-US/docs/Web/API/Element/matches
            var nativeMatches = ( node.matches || node.msMatchesSelector );

            // CAUTION: If an invalid pseudo-selector is used in Firefox or IE, the
            // browser will throw a SyntaxError, "is not a valid selector". It will do
            // the same for .querySelector() as well, just an FYI.
            try {

                return( nativeMatches.call( node, selector ) );

            } catch ( error ) {

                // In the case of an error, we're going to assume it's a pseudo-selector
                // issue and NOT a general support issue (since we don't care about
                // really old browsers).
                return( false );

            }
        }
    </script>
</body>
</html>